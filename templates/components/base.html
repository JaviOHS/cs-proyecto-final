{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %} CS PROJECT {% endblock title %}</title>
  <link rel="icon" href="{% static 'img/components/icon.png' %}" type="image/x-icon">
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <link rel="stylesheet" href="{% static 'css/tailwind.css' %}">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
{% load i18n %}

<body data-authenticated="{{ request.user.is_authenticated|lower }}" class="z-90 primary-container-bg text-items font-light">
  {% block navbar %}
    <header class="top-0 left-0 right-0 z-50 fixed w-full transition duration-300 ease-in-out backdrop-blur-none bg-opacity-100">
      <nav id="navbar" class="fixed top-0 left-0 w-full border-gray-200 bg-white dark:bg-gray-900 transition-all duration-300">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-2">
          <a href="/" class="flex items-center space-x-2">
            <img src="{% static 'img/components/icon.png' %}" class="h-6" alt="PASYS ALERT LOGO" />
            <span class="nav-font-color text-xl">PASYS ALERT</span>
          </a>
          
          <div id="navbar-overlay" class="fixed inset-0 z-40 hidden transition-opacity duration-300"></div>
          <button data-collapse-toggle="navbar-menu" type="button"
            class="inline-flex items-center p-1.5 w-8 h-8 justify-center text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-600 z-50">
            <span class="sr-only">Open main menu</span>
            <i class="fas fa-bars-staggered transition-transform duration-300 menu-icon"></i>
          </button>
      
          <div class="hidden w-full md:flex md:w-auto">
            <ul class="items-center bg-center flex flex-col md:flex-row md:space-x-8 p-2 md:p-0 font-medium rounded-lg">
              <li class="py-1 md:py-0">
                <a href="{% url 'home' %}" class="text-sm nav-font-color" aria-current="page">{% trans "Inicio" %}</a>
              </li>
              <li class="py-1 md:py-0">
                <a href="#" class="text-sm nav-font-color hover:text-blue-600 transition-colors duration-300" data-modal-toggle="static-modal">
                    {% trans "Sobre Nosotros" %}
                </a>
              </li>         
              {% if user.is_authenticated %}
              <li class="relative py-1 md:py-0">
                <button type="button" id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown"
                  class="flex items-center">
                  <img src="{{ user.get_image }}" alt="profile" class="profile-picture h-6 w-6">
                </button>
                <div class="primary-container-bg z-50 hidden my-2 list-none divide-y divide-gray-100 rounded-lg shadow"
                  id="user-dropdown">
                  <div class="px-3 py-2">
                    <span class="first-element-dropdown text-sm">{{ user.username }}</span>
                    <span class="second-element-dropdown text-xs">{{ user.email }}</span>
                  </div>
                  <ul class="py-1" aria-labelledby="user-menu-button">
                    <li>
                      <a href="{% url 'core:profile' %}" class="nav-font-color flex items-center px-3 py-1.5 text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2 inline-block" viewBox="0 0 24 24"
                          fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                          stroke-linejoin="round">
                          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                          <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span>{% trans "Perfil" %}</span>
                      </a>
                    </li>
                    <li>
                      <a href="#" class="nav-font-color flex items-center px-3 py-1.5 text-sm"
                        data-drawer-target="drawer-navigation" data-drawer-show="drawer-navigation"
                        aria-controls="drawer-navigation">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2 inline-block" viewBox="0 0 24 24"
                          fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                          stroke-linejoin="round">
                          <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
                        </svg>
                        <span>{% trans "Temas" %}</span>
                      </a>
                    </li>
                    <li>
                      <a href="{% url 'core:user_settings' %}" class="nav-font-color flex items-center px-3 py-1.5 text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2 inline-block" viewBox="0 0 24 24"
                          fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <circle cx="12" cy="12" r="3"></circle>
                          <path d="M19.4 15a1.7 1.7 0 0 0 .33 1.87l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.7 1.7 0 0 0-1.87-.33 1.7 1.7 0 0 0-1 1.54V21a2 2 0 0 1-4 0v-.09a1.7 1.7 0 0 0-1-1.54 1.7 1.7 0 0 0-1.87.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.7 1.7 0 0 0 .33-1.87 1.7 1.7 0 0 0-1.54-1H3a2 2 0 0 1 0-4h.09a1.7 1.7 0 0 0 1.54-1 1.7 1.7 0 0 0-.33-1.87l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.7 1.7 0 0 0 1.87.33H9a1.7 1.7 0 0 0 1-1.54V3a2 2 0 0 1 4 0v.09a1.7 1.7 0 0 0 1 1.54 1.7 1.7 0 0 0 1.87-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.7 1.7 0 0 0-.33 1.87V9a1.7 1.7 0 0 0 1.54 1H21a2 2 0 0 1 0 4h-.09a1.7 1.7 0 0 0-1.54 1z"></path>
                        </svg>
                        <span>{% trans "Configuraciones" %}</span>
                      </a>
                    </li>
                    <li>
                      <a href="{% url 'security:signout' %}" class="logout flex items-center px-3 py-1.5 text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2 inline-block" viewBox="0 0 24 24"
                          fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                          stroke-linejoin="round">
                          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                          <polyline points="16 17 21 12 16 7"></polyline>
                          <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                        <span>{% trans "Cerrar Sesión" %}</span>
                      </a>
                    </li>
                  </ul>
                </div>
              </li>
              {% else %}
              <li class="py-1 md:py-0">
                <a href="{% url 'security:signup' %}" class="sign-in-and-sign-up-button text-sm px-3 py-1.5">
                  {% trans "Registrarse" %}
                </a>
              </li>
              <li class="py-1 md:py-0">
                <a href="{% url 'security:signin' %}" class="sign-in-and-sign-up-button text-sm px-3 py-1.5">
                  {% trans "Iniciar Sesión" %}
                </a>
              </li>
              <li class="py-1 md:py-0">
                <img src="https://proyecto-final-imagenes.s3.us-east-2.amazonaws.com/componentes/usuario_anonimo.png"
                  alt="default profile" class="profile-picture h-6 w-6">
              </li>
              {% endif %}
              <li class="py-1 md:py-0">
                <span data-tooltip-target="tooltip-default" id="themeIconContainer" class="theme-icon">
                  <i id="themeIcon" class="fas fa-moon text-gray-300 dark:text-gray-500"></i>
                </span>
                <div id="tooltip-default" role="tooltip"
                  class="absolute z-10 invisible inline-block px-2 py-1 text-xs font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
                  Dark Mode
                  <div class="tooltip-arrow" data-popper-arrow></div>
                </div>
                <a href="#" id="theme-toggle" class="hidden">Toggle Dark Mode</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>


    <aside class="rounded-r-3xl border-r hidden fixed left-0 top-0 z-50 h-screen w-70 bg-white/80 backdrop-blur-md dark:bg-gray-900/80 border-r border-gray-100 dark:border-gray-800" id="navbar-menu">
      {% if user.is_authenticated %}
        <div class="p-4 mb-6">
          <div class="flex items-center mb-3">
            <div class="relative">
              <img src="{{ user.get_image }}" alt="Profile" 
                class="w-10 h-10 rounded-full bg-gray-100 object-cover"
              />
              <div class="absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full dark:border-gray-800"></div>
            </div>
            <div class="ml-3">
              <h2 class="text-sm font-medium text-gray-900 dark:text-white">{{ user.username }}</h2>
              <h2 class="text-sm font-medium text-gray-900 dark:text-white">{{ user.email }}</h2>
            </div>
          </div>
        </div>

        <div class="px-3">
          <div class="mb-6">
            <p class="px-3 mb-3 text-xs font-medium text-gray-500 uppercase dark:text-gray-400">{% trans "Inicio" %}</p>
            <ul class="space-y-1">
              <li>
                <a href="{% url 'home' %}" 
                  class="flex items-center px-3 py-2 text-sm font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800 group transition-colors">
                  <i class="fas fa-home w-5 h-5 text-gray-500 dark:text-gray-400 mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-500"></i>
                  {% trans "Inicio" %}
                </a>
              </li>
              <li>
                <a href="{% url 'core:profile' %}" 
                  class="flex items-center px-3 py-2 text-sm font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800 group transition-colors">
                  <i class="fas fa-user w-5 h-5 text-gray-500 dark:text-gray-400 mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-500"></i>
                  {% trans "Perfil" %}
                </a>
              </li>
              <li>
                <button type="button" 
                  class="flex items-center w-full px-3 py-2 text-sm font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800 group transition-colors"
                  data-collapse-toggle="audience-dropdown">
                  <i class="fas fa-paint-brush w-5 h-5 text-gray-500 dark:text-gray-400 mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-500"></i>
                  <span class="flex-1">{% trans "Temas" %}</span>
                  <i class="fas fa-chevron-down w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform"></i>
                </button>
                <ul id="audience-dropdown" class="py-2 space-y-1">
                  <li>
                    <a class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group cursor-pointer"
                      onclick="setTheme('light')">
                      <div
                        style="display: grid; grid-template-columns: repeat(2, 1fr); width: 50px; height: 50px; border-radius: 4px; overflow: hidden; margin-right: 0.75rem;">
                        <div style="width: 100%; height: 100%;" class="bg-white border border-gray-200"></div>
                        <div style="width: 100%; height: 100%;" class="bg-blue-700"></div>
                        <div style="width: 100%; height: 100%;" class="bg-white border border-gray-200"></div>
                        <div style="width: 100%; height: 100%;" class="bg-blue-200"></div>
                      </div>
                      <span class="text-sm font-medium">{% trans "Claro" %}</span>
                    </a>
                  </li>
                  <li>
                    <a class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group cursor-pointer"
                      onclick="setTheme('dark')">
                      <div
                        style="display: grid; grid-template-columns: repeat(2, 1fr); width: 50px; height: 50px; border-radius: 4px; overflow: hidden; margin-right: 0.75rem;">
                        <div style="width: 100%; height: 100%;" class="bg-gray-800"></div>
                        <div style="width: 100%; height: 100%;" class="bg-blue-700"></div>
                        <div style="width: 100%; height: 100%;" class="bg-gray-800"></div>
                        <div style="width: 100%; height: 100%;" class="bg-blue-200"></div>
                      </div>
                      <span class="text-sm font-medium">{% trans "Oscuro" %}</span>
                    </a>
                  </li>
                  <li>
                    <a class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group cursor-pointer"
                      onclick="setTheme('theme1')">
                      <div style="display: grid; grid-template-columns: repeat(2, 1fr); width: 50px; height: 50px; border-radius: 4px; overflow: hidden; margin-right: 0.75rem;">
                        <div style="width: 100%; height: 100%;" class="bg-theme1-500"></div>
                        <div style="width: 100%; height: 100%;" class="bg-theme1-700"></div>
                        <div style="width: 100%; height: 100%;" class="bg-theme1-300"></div>
                        <div style="width: 100%; height: 100%;" class="bg-theme1-600"></div>
                      </div>
                      <span class="text-sm font-medium">{% trans "Naranja" %}</span>
                    </a>
                  </li>
                  <li>
                    <a class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group cursor-pointer"
                      onclick="setTheme('theme2')">
                      <div style="display: grid; grid-template-columns: repeat(2, 1fr); width: 50px; height: 50px; border-radius: 4px; overflow: hidden; margin-right: 0.75rem;">
                        <div style="width: 100%; height: 100%;" class="bg-theme2-500"></div>
                        <div style="width: 100%; height: 100%;" class="bg-theme2-700"></div>
                        <div style="width: 100%; height: 100%;" class="bg-theme2-300"></div>
                        <div style="width: 100%; height: 100%;" class="bg-theme2-600"></div>
                      </div>
                      <span class="text-sm font-medium">{% trans "Azul" %}</span>
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
      
          <div class="mb-6">
            <p class="px-3 mb-3 text-xs font-medium text-gray-500 uppercase dark:text-gray-400">{% trans "Configuraciones" %}</p>
            <ul class="space-y-1">
              <li>
                <a href="{% url 'core:user_settings' %}" 
                  class="flex items-center px-3 py-2 text-sm font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800 group transition-colors">
                  <i class="fas fa-cog w-5 h-5 text-gray-500 dark:text-gray-400 mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-500"></i>
                  {% trans "Configuraciones" %}
                </a>
              </li>
            </ul>
          </div>
      
          <div>
            <p class="px-3 mb-3 text-xs font-medium text-gray-500 uppercase dark:text-gray-400">{% trans "Cuenta" %}</p>
            <ul class="space-y-1">
              <li>
                <a href="{% url 'security:signout' %}" 
                  class="flex items-center px-3 py-2 text-sm font-medium text-red-500 rounded-lg dark:text-red-500 hover:bg-gray-100 dark:hover:bg-gray-800 group transition-colors">
                  <i class="fas fa-sign-out-alt w-5 h-5 text-gray-500 dark:text-gray-400 mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-500"></i>
                  {% trans "Cerrar Sesión" %}
                </a>
              </li>
            </ul>
          </div>
          {% else %}
          <div>
            <p class="px-3 mb-3 text-xs font-medium text-gray-500 uppercase dark:text-gray-400">{% trans "Cuenta" %}</p>
            <ul class="space-y-1">
              <li>
                <a href="{% url 'security:signup' %}" 
                  class="flex items-center px-3 py-2 text-sm font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800 group transition-colors">
                  <i class="fas fa-user-plus w-5 h-5 text-gray-500 dark:text-gray-400 mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-500"></i>
                  {% trans "Registrarse" %}
                </a>
              </li>
              <li>
                <a href="{% url 'security:signin' %}" 
                  class="flex items-center px-3 py-2 text-sm font-medium text-red-500 rounded-lg dark:text-red-500 hover:bg-gray-100 dark:hover:bg-gray-800 group transition-colors">
                  <i class="fas fa-sign-in-alt w-5 h-5 text-gray-500 dark:text-gray-400 mr-3 group-hover:text-blue-600 dark:group-hover:text-blue-500"></i>
                  {% trans "Iniciar Sesión" %}
                </a>
              </li>          
            </ul>
          </div>
          {% endif %}
        </div>
      </div>
    </aside>
    
    <div id="progress-bar" class="h-1 bg-blue-500 dark:bg-indigo-500 fixed top-0 left-0 z-50 transition-all duration-300 ease-linear" style="width: 0;"></div>
{% endblock navbar %}

<div id="static-modal" class="fixed inset-0 z-50 opacity-0 pointer-events-none transition-all duration-500 ease-out flex items-center justify-center">
  <div class="fixed inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-500 ease-out"></div>
  <div class="relative w-full max-w-2xl mx-auto p-4">
      <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-[0_0_60px_-15px_rgba(0,0,0,0.3)] transition-all duration-500 ease-out transform scale-95 opacity-0 overflow-hidden">
          <div class="px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                  {% trans "Sobre Nosotros" %}
              </h3>
              <button type="button" 
                  class="text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200 rounded-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400" 
                  data-modal-close>
                  <span class="sr-only">{% trans "Cerrar" %}</span>
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
              </button>
          </div>
          <div class="px-6 py-5 space-y-4 max-h-[70vh] overflow-y-auto">
              <p class="text-base text-gray-600 dark:text-gray-300 leading-relaxed">{% trans "Somos una empresa líder especializada en soluciones de videovigilancia inteligente, con un enfoque innovador en la seguridad empresarial. Nuestro software de última generación se adapta perfectamente a las necesidades específicas de cada cliente, desde pequeñas empresas hasta corporaciones en expansión, garantizando una protección integral y eficiente de sus activos." %}</p>
              <p class="text-base text-gray-600 dark:text-gray-300 leading-relaxed">{% trans "Nuestra misión es proporcionar tecnología de vanguardia en seguridad que permita a nuestros clientes mantener el control total de sus operaciones. Mediante sistemas avanzados de monitoreo y análisis en tiempo real, ofrecemos la tranquilidad y confianza que su negocio necesita para crecer de manera segura en el entorno actual." %}</p>
              <p class="text-base text-gray-600 dark:text-gray-300 leading-relaxed">{% trans "Respaldados por años de experiencia en el sector de seguridad, nuestras soluciones incorporan tecnologías de última generación, incluyendo análisis de video inteligente, detección temprana de amenazas y gestión centralizada de múltiples ubicaciones, todo diseñado para proteger lo que más importa: su negocio." %}</p>
          </div>
          <div class="px-6 py-4 border-t border-gray-100 dark:border-gray-700 flex justify-end gap-3">
              <button type="button" 
                  class="px-5 py-2.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800" 
                  data-modal-close>
                  {% trans "Aceptar" %}
              </button>
          </div>
      </div>
  </div>
</div> 

<div id="sidebar-overlay" class="fixed inset-0 bg-black opacity-50 z-40 hidden backdrop-blur-sm transition-all duration-300"></div>
{% if user.is_authenticated %}
<div id="drawer-navigation"
  class="fixed top-0 left-0 z-50 h-screen p-4 overflow-y-auto transition-transform -translate-x-full bg-white w-56 dark:bg-gray-800"
  tabindex="-1" aria-labelledby="drawer-navigation-label">
  <h5 id="drawer-navigation-label"
    class="items-center text-center mb-2 text-sm font-semibold text-gray-500 dark:text-gray-400">
    {% trans "Sección de Temas" %}
  </h5>
  <button type="button" data-drawer-hide="drawer-navigation" aria-controls="drawer-navigation"
    class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1 absolute top-2 right-2 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white">
    <span class="sr-only">Close menu</span>
  </button>
  <hr class="my-3 border-gray-200 sm:mx-auto dark:border-gray-700" />
  <p class="mb-3 text-xs text-gray-500 dark:text-gray-400">
    {% trans "Seleccione el tema que desea aplicar en la aplicación para trabajar cómodamente." %}
  </p>
  <hr class="my-3 border-gray-200 sm:mx-auto dark:border-gray-700" />
  <div class="py-3 overflow-y-auto">
    <ul class="space-y-2">
      <li>
        <a class="flex items-center p-1.5 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group cursor-pointer"
          onclick="setTheme('light')">
          <div
            style="display: grid; grid-template-columns: repeat(2, 1fr); width: 40px; height: 40px; border-radius: 4px; overflow: hidden; margin-right: 0.5rem;">
            <div style="width: 100%; height: 100%;" class="bg-white border border-gray-200"></div>
            <div style="width: 100%; height: 100%;" class="bg-blue-700"></div>
            <div style="width: 100%; height: 100%;" class="bg-white border border-gray-200"></div>
            <div style="width: 100%; height: 100%;" class="bg-blue-200"></div>
          </div>
          <span class="text-xs font-medium">{% trans "Claro" %}</span>
        </a>
      </li>
      <li>
        <a class="flex items-center p-1.5 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group cursor-pointer"
          onclick="setTheme('dark')">
          <div
            style="display: grid; grid-template-columns: repeat(2, 1fr); width: 40px; height: 40px; border-radius: 4px; overflow: hidden; margin-right: 0.5rem;">
            <div style="width: 100%; height: 100%;" class="bg-gray-800"></div>
            <div style="width: 100%; height: 100%;" class="bg-blue-700"></div>
            <div style="width: 100%; height: 100%;" class="bg-gray-800"></div>
            <div style="width: 100%; height: 100%;" class="bg-blue-200"></div>
          </div>
          <span class="text-xs font-medium">{% trans "Oscuro" %}</span>
        </a>
      </li>
      <li>
        <a class="flex items-center p-1.5 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group cursor-pointer"
          onclick="setTheme('theme1')">
          <div
            style="display: grid; grid-template-columns: repeat(2, 1fr); width: 40px; height: 40px; border-radius: 4px; overflow: hidden; margin-right: 0.5rem;">
            <div style="width: 100%; height: 100%;" class="bg-theme1-500"></div>
            <div style="width: 100%; height: 100%;" class="bg-theme1-700"></div>
            <div style="width: 100%; height: 100%;" class="bg-theme1-300"></div>
            <div style="width: 100%; height: 100%;" class="bg-theme1-600"></div>
          </div>
          <span class="text-xs font-medium">{% trans "Naranja" %}</span>
        </a>
      </li>
      <li>
        <a class="flex items-center p-1.5 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group cursor-pointer"
          onclick="setTheme('theme2')">
          <div
            style="display: grid; grid-template-columns: repeat(2, 1fr); width: 40px; height: 40px; border-radius: 4px; overflow: hidden; margin-right: 0.5rem;">
            <div style="width: 100%; height: 100%;" class="bg-theme2-500"></div>
            <div style="width: 100%; height: 100%;" class="bg-theme2-700"></div>
            <div style="width: 100%; height: 100%;" class="bg-theme2-300"></div>
            <div style="width: 100%; height: 100%;" class="bg-theme2-600"></div>
          </div>
          <span class="text-xs font-medium">{% trans "Azul" %}</span>
        </a>
      </li>
    </ul>
  </div>
</div>
{% endif %}
  {% include 'components/notifications.html' %}

  {% block content %}
  {% endblock content %}

  <button id="dropdownDefaultButton" class="left-15 bg-gradient-to-r from-blue-700 to-blue-700 dark:from-indigo-700 dark:to-indigo-700 w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-300" type="button">
    <span class="fas fa-person text-lg text-white"></span>
</button>
  
  <div id="dropdown" class="z-10 bg-white rounded-xl shadow-lg w-72 dark:bg-gray-800 border border-gray-100 dark:border-gray-700">
    <div class="px-4 py-3">
      <ul class="space-y-4" aria-labelledby="dropdownDefaultButton">
        
        <li>
          <h4 class="text-lg font-semibold text-gray-800 dark:text-white text-center pb-1.5 border-b border-gray-200 dark:border-gray-600">
            {% trans 'Opciones de Accesibilidad' %}
          </h4>
        </li>
        <li>
          <div class="space-y-1.5">
            <p class="text-xs text-gray-600 dark:text-gray-300 mb-2">Zoom</p>
            <div class="flex justify-between items-center gap-2">
              <button onclick="changeZoom('in')" class="flex-1 p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-all duration-200 group">
                <i class="fas fa-search-plus text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform"></i>
              </button>
              <button onclick="changeZoom('out')" class="flex-1 p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-all duration-200 group">
                <i class="fas fa-search-minus text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform"></i>
              </button>
              <button onclick="resetZoom()" class="flex-1 p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-all duration-200 group">
                <i class="fas fa-undo text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform"></i>
              </button>
            </div>
          </div>
        </li>
        <li>
          <div class="space-y-1.5">
            <p class="text-xs text-gray-600 dark:text-gray-300 mb-2">Tamaño de texto</p>
            <div class="flex justify-between items-center gap-2">
              <button onclick="changeFontSize('increase')" class="flex-1 p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-all duration-200 group">
                <span class="text-indigo-600 dark:text-indigo-400 font-bold group-hover:scale-110 transition-transform inline-block">A+</span>
              </button>
              <button onclick="changeFontSize('decrease')" class="flex-1 p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-all duration-200 group">
                <span class="text-indigo-600 dark:text-indigo-400 font-bold group-hover:scale-110 transition-transform inline-block">A-</span>
              </button>
              <button onclick="resetFontSize()" class="flex-1 p-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-all duration-200 group">
                <i class="fas fa-undo text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform"></i>
              </button>
            </div>
          </div>
        </li>
        <li>
          <div class="space-y-2">
            <button onclick="changeFont()" class="w-full p-2.5 bg-indigo-50 hover:bg-indigo-100 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-all duration-200 text-indigo-600 dark:text-indigo-400 group">
              <i class="fas fa-font mr-1.5 group-hover:scale-110 transition-transform inline-block"></i>
              <span class="font-medium text-sm current-font-name">Quicksand</span>
            </button>
            <button onclick="toggleTextToSpeech()" id="textToSpeechButton" class="w-full p-2.5 bg-indigo-50 hover:bg-indigo-100 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-all duration-200 text-indigo-600 dark:text-indigo-400 group">
              <i class="fas fa-volume-up mr-1.5 group-hover:scale-110 transition-transform inline-block"></i>
              <span class="font-medium text-sm">Lector de Página</span>
            </button>
          </div>
        </li>
        <li class="pt-1.5 border-t border-gray-200 dark:border-gray-600">
          <div class="flex justify-center items-center">
            <form action="{% url 'core:set_language' %}" method="post" id="language-form" class="w-full">
              {% csrf_token %}
              <input name="next" type="hidden" value="{{ request.path }}">
              <input type="hidden" name="language" id="selected-language" value="{{ LANGUAGE_CODE }}">
    
              <button type="button" id="language-button" data-dropdown-toggle="language-dropdown-menu" 
                      class="w-full p-2.5 bg-indigo-50 hover:bg-indigo-100 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-all duration-200 inline-flex items-center justify-center">
                <svg id="language-flag" class="w-4 h-4 rounded-full me-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512">
                </svg>
                <span id="language-text" class="text-indigo-600 dark:text-indigo-400 font-medium text-sm">
                  {% if LANGUAGE_CODE == 'es' %}Español{% else %}English{% endif %}
                </span>
              </button>
              <div class="right-0 mt-1.5 w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-100 dark:border-gray-700 hidden" id="language-dropdown-menu">
                <ul class="py-1.5" role="none">
                  <li>
                    <a href="#" onclick="changeLanguage('en')" class="block px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors duration-200" role="menuitem">
                      <div class="inline-flex items-center">
                        <svg class="h-3 w-3 rounded-full me-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                          id="flag-icon-css-us" viewBox="0 0 512 512">
                          <g fill-rule="evenodd">
                            <g stroke-width="1pt">
                              <path fill="#bd3d44"
                                d="M0 0h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0z"
                                transform="scale(3.9385)" />
                              <path fill="#fff"
                                d="M0 10h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0z"
                                transform="scale(3.9385)" />
                            </g>
                            <path fill="#192f5d" d="M0 0h98.8v70H0z" transform="scale(3.9385)" />
                            <path fill="#fff"
                              d="M8.2 3l1 2.8H12L9.7 7.5l.9 2.7-2.4-1.7L6 10.2l.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9z"
                              transform="scale(3.9385)" />
                          </g>
                        </svg>
                        <span class="font-medium">English (US)</span>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="#" onclick="changeLanguage('es')" class="block px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors duration-200" role="menuitem">
                      <div class="inline-flex items-center">
                        <svg class="h-3 w-3 rounded-full me-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                          id="flag-icon-css-es" viewBox="0 0 512 512">
                          <path fill="#ffce00" d="M0 128h512v256H0z" />
                          <path fill="#dd0000" d="M0 0h512v128H0zm0 384h512v128H0z" />
                        </svg>
                        <span class="font-medium">Español (ES)</span>
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </form>
          </div>
        </li>
      </ul>
    </div>
  </div>
  {% load i18n %}
  <footer class="w-full mt-auto">
    <div class="w-full max-w-screen-xl mx-auto p-2 md:py-4">
      <div class="sm:flex sm:items-center sm:justify-between">
        <a href="/" class="logo">
          <img src="{% static 'img/components/icon.png' %}" class="w-8 h-8" alt="{% trans 'Flowbite Logo' %}" />
          <span class="nav-font-color text-xl">PASYS ALERT</span>
        </a>
      </div>
      <hr class="my-4 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-6" />
      <span class="footer-font-color text-sm">© 2024 <a href="" class="hover:underline">PASYS ALERT™</a>. {% trans 'Todos los derechos reservados.' %}</span>
    </div>
    <svg width="100%" height="100%" id="svg" viewBox="0 0 1440 400" xmlns="http://www.w3.org/2000/svg"
      class="transition duration-300 ease-in-out delay-150">
      <style>
        .path-0 {
          animation: pathAnim-0 4s;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
  
        @keyframes pathAnim-0 {
          0% {
            d: path("M 0,500 C 0,500 0,166 0,166 C 107.2153110047847,190.9665071770335 214.4306220095694,215.93301435406698 317,210 C 419.5693779904306,204.06698564593302 517.4928229665072,167.23444976076556 606,157 C 694.5071770334928,146.76555023923444 773.598086124402,163.12918660287082 866,164 C 958.401913875598,164.87081339712918 1064.1148325358852,150.2488038277512 1162,148 C 1259.8851674641148,145.7511961722488 1349.9425837320573,155.8755980861244 1440,166 C 1440,166 1440,500 1440,500 Z");
          }
          25% {
            d: path("M 0,500 C 0,500 0,166 0,166 C 96.3732057416268,163.07177033492823 192.7464114832536,160.14354066985646 289,171 C 385.2535885167464,181.85645933014354 481.38755980861254,206.4976076555024 570,219 C 658.6124401913875,231.5023923444976 739.7033492822965,231.86602870813397 840,204 C 940.2966507177035,176.13397129186603 1059.799043062201,120.03827751196172 1163,109 C 1266.200956937799,97.96172248803828 1353.1004784688994,131.98086124401914 1440,166 C 1440,166 1440,500 1440,500 Z");
          }
          50% {
            d: path("M 0,500 C 0,500 0,166 0,166 C 101.93301435406698,175.21531100478467 203.86602870813397,184.43062200956936 305,186 C 406.13397129186603,187.56937799043064 506.46889952153117,181.4928229665072 611,194 C 715.5311004784688,206.5071770334928 824.2583732057416,237.59808612440193 911,226 C 997.7416267942584,214.40191387559807 1062.4976076555024,160.11483253588517 1147,143 C 1231.5023923444976,125.88516746411484 1335.751196172249,145.94258373205741 1440,166 C 1440,166 1440,500 1440,500 Z");
          }
          75% {
            d: path("M 0,500 C 0,500 0,166 0,166 C 109.39712918660285,193.55023923444975 218.7942583732057,221.10047846889952 300,202 C 381.2057416267943,182.89952153110048 434.22009569377997,117.14832535885166 537,108 C 639.77990430622,98.85167464114834 792.3253588516748,146.30622009569382 899,163 C 1005.6746411483252,179.69377990430618 1066.4784688995217,165.6267942583732 1149,161 C 1231.5215311004783,156.3732057416268 1335.7607655502393,161.1866028708134 1440,166 C 1440,166 1440,500 1440,500 Z");
          }
          100% {
            d: path("M 0,500 C 0,500 0,166 0,166 C 107.2153110047847,190.9665071770335 214.4306220095694,215.93301435406698 317,210 C 419.5693779904306,204.06698564593302 517.4928229665072,167.23444976076556 606,157 C 694.5071770334928,146.76555023923444 773.598086124402,163.12918660287082 866,164 C 958.401913875598,164.87081339712918 1064.1148325358852,150.2488038277512 1162,148 C 1259.8851674641148,145.7511961722488 1349.9425837320573,155.8755980861244 1440,166 C 1440,166 1440,500 1440,500 Z");
          }
        }
        .path-1 {
          animation: pathAnim-1 4s;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
        @keyframes pathAnim-1 {
          0% {
            d: path("M 0,500 C 0,500 0,333 0,333 C 77.34928229665073,329.6794258373206 154.69856459330146,326.3588516746412 247,319 C 339.30143540669854,311.6411483253588 446.555023923445,300.24401913875596 540,316 C 633.444976076555,331.75598086124404 713.0813397129187,374.6650717703349 820,394 C 926.9186602870813,413.3349282296651 1061.1196172248804,409.0956937799043 1169,395 C 1276.8803827751196,380.9043062200957 1358.44019138756,356.95215311004785 1440,333 C 1440,333 1440,500 1440,500 Z");
          }
          25% {
            d: path("M 0,500 C 0,500 0,333 0,333 C 119.46411483253587,327.5454545454545 238.92822966507174,322.09090909090907 324,320 C 409.07177033492826,317.90909090909093 459.7511961722488,319.1818181818182 534,328 C 608.2488038277512,336.8181818181818 706.066985645933,353.1818181818182 815,347 C 923.933014354067,340.8181818181818 1043.9808612440193,312.09090909090907 1150,306 C 1256.0191387559807,299.90909090909093 1348.0095693779904,316.4545454545455 1440,333 C 1440,333 1440,500 1440,500 Z");
          }
          50% {
            d: path("M 0,500 C 0,500 0,333 0,333 C 65.98086124401917,360.3875598086124 131.96172248803833,387.77511961722485 245,391 C 358.03827751196167,394.22488038277515 518.1339712918659,373.2870813397129 624,359 C 729.8660287081341,344.7129186602871 781.5023923444976,337.07655502392345 856,321 C 930.4976076555024,304.92344497607655 1027.8564593301435,280.40669856459334 1129,281 C 1230.1435406698565,281.59330143540666 1335.0717703349283,307.2966507177033 1440,333 C 1440,333 1440,500 1440,500 Z");
          }
          75% {
            d: path("M 0,500 C 0,500 0,333 0,333 C 96.22009569377991,307.2105263157895 192.44019138755982,281.4210526315789 293,276 C 393.5598086124402,270.5789473684211 498.4593301435407,285.52631578947376 596,311 C 693.5406698564593,336.47368421052624 783.7224880382776,372.4736842105263 885,382 C 986.2775119617224,391.5263157894737 1098.6507177033493,374.5789473684211 1193,362 C 1287.3492822966507,349.4210526315789 1363.6746411483255,341.2105263157895 1440,333 C 1440,333 1440,500 1440,500 Z");
          }
          100% {
            d: path("M 0,500 C 0,500 0,333 0,333 C 77.34928229665073,329.6794258373206 154.69856459330146,326.3588516746412 247,319 C 339.30143540669854,311.6411483253588 446.555023923445,300.24401913875596 540,316 C 633.444976076555,331.75598086124404 713.0813397129187,374.6650717703349 820,394 C 926.9186602870813,413.3349282296651 1061.1196172248804,409.0956937799043 1169,395 C 1276.8803827751196,380.9043062200957 1358.44019138756,356.95215311004785 1440,333 C 1440,333 1440,500 1440,500 Z");
          }
        }
      </style>
      <defs>
        <linearGradient id="gradient" x1="0%" y1="50%" x2="100%" y2="50%">
          <stop offset="5%" stop-color="#2193b0"></stop>
          <stop offset="95%" stop-color="#6dd5ed"></stop>
        </linearGradient>
      </defs>
      <path
        d="M 0,500 C 0,500 0,166 0,166 C 107.2153110047847,190.9665071770335 214.4306220095694,215.93301435406698 317,210 C 419.5693779904306,204.06698564593302 517.4928229665072,167.23444976076556 606,157 C 694.5071770334928,146.76555023923444 773.598086124402,163.12918660287082 866,164 C 958.401913875598,164.87081339712918 1064.1148325358852,150.2488038277512 1162,148 C 1259.8851674641148,145.7511961722488 1349.9425837320573,155.8755980861244 1440,166 C 1440,166 1440,500 1440,500 Z"
        stroke="none" stroke-width="0" fill="url(#gradient)" fill-opacity="0.53"
        class="transition-all duration-300 ease-in-out delay-150 path-0"></path>
      <path
        d="M 0,500 C 0,500 0,333 0,333 C 77.34928229665073,329.6794258373206 154.69856459330146,326.3588516746412 247,319 C 339.30143540669854,311.6411483253588 446.555023923445,300.24401913875596 540,316 C 633.444976076555,331.75598086124404 713.0813397129187,374.6650717703349 820,394 C 926.9186602870813,413.3349282296651 1061.1196172248804,409.0956937799043 1169,395 C 1276.8803827751196,380.9043062200957 1358.44019138756,356.95215311004785 1440,333 C 1440,333 1440,500 1440,500 Z"
        stroke="none" stroke-width="0" fill="url(#gradient)" fill-opacity="1"
        class="transition-all duration-300 ease-in-out delay-150 path-1"></path>
    </svg>
  </footer>

  <div class="fixed bottom-36 right-4 flex flex-col space-y-6 items-center">
    <div>
      <button id="goTopBtn" title="Ir arriba"
        class="bg-blue-700 dark:bg-indigo-700 text-white px-4 py-2 rounded-full shadow-md transform translate-y-20 opacity-0 transition-all duration-500 ease-in-out">
        <i class="fas fa-caret-up"></i>
      </button>
    </div>
  </div>
  
  {% if user.is_authenticated %}
  <div id="chatbot-container" class="fixed bottom-4 left-8 z-50">
    <button id="open-chat" class="group bg-gradient-to-r bg-blue-700 dark:bg-indigo-700 w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-300">
      <i class="fas fa-message text-xl text-white group-hover:rotate-12 transition-transform duration-300"></i>
    </button>
  
    <div id="chatbot" class="hidden opacity-0 translate-y-5 w-80 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden transition-all duration-300 ease-out border border-gray-200 dark:border-gray-700">
      <div class="text-white p-2" style="background: linear-gradient(to right, #60a5fa, #1d4ed8);">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <div class="relative">
              <img src="{% static 'img/components/icon.png' %}" alt="ChatBot Profile" class="w-10 h-10">
              <span class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"></span>
            </div>
            <div>
              <p class="text-sm text-blue-100 font-bold">Alexis AI</p>
              <p class="text-xs text-blue-100">Asistente Virtual</p>
            </div>
          </div>
          <button id="close-chat" class="p-2 hover:bg-white/10 rounded-full transition-colors duration-300">
            <i class="fas fa-times text-lg"></i>
          </button>
        </div>
      </div>
  
      <svg width="100%" height="25%" id="svg" viewBox="0 0 1440 490" xmlns="http://www.w3.org/2000/svg" class="rotate-180 mt-0 transition duration-300 ease-in-out delay-150">
        <defs>
          <linearGradient id="gradient_chat" x1="0%" y1="50%" x2="100%" y2="50%">
            <stop offset="5%" stop-color="#1d4ed8"></stop>
            <stop offset="95%" stop-color="#60a5fa"></stop>
          </linearGradient>
        </defs>
        <path d="M 0,500 C 0,500 0,333 0,333 C 77.34928229665073,329.6794258373206 154.69856459330146,326.3588516746412 247,319 C 339.30143540669854,311.6411483253588 446.555023923445,300.24401913875596 540,316 C 633.444976076555,331.75598086124404 713.0813397129187,374.6650717703349 820,394 C 926.9186602870813,413.3349282296651 1061.1196172248804,409.0956937799043 1169,395 C 1276.8803827751196,380.9043062200957 1358.44019138756,356.95215311004785 1440,333 C 1440,333 1440,500 1440,500 Z" stroke="none" stroke-width="0" fill="url(#gradient_chat)" fill-opacity="1" class="transition-all duration-300 ease-in-out delay-150 path-0"></path>
      </svg>
  
      <div id="selected-model" class="mx-4 my-3">
        <div class="flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200">
          <div class="flex items-center space-x-2">
            <div class="w-7 h-7 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center">
              <i class="fas fa-robot text-blue-600 dark:text-blue-400"></i>
            </div>
            <div>
              <p class="text-xs font-medium text-gray-700 dark:text-gray-300">Modelo actual</p>
              <p id="current-model" class="text-xs text-gray-500 dark:text-gray-400">Ninguno</p>
            </div>
          </div>
          <button class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">
            <i class="fas fa-chevron-down"></i>
          </button>
        </div>
      </div>
  
      <div id="chat-messages" class="h-60 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-800/50 space-y-3 relative">
        <div id="model-selection" class="hidden absolute top-0 left-2 z-50 bg-white dark:bg-gray-800 shadow-xl rounded-2xl border border-gray-300 dark:border-gray-700 w-[calc(100%-16px)] transform transition-all duration-300">
          <div role="menuitem" class="p-2 border-b border-gray-200 dark:border-gray-700">
            <p class="text-xs text-gray-500 dark:text-gray-400">Seleccionar un modelo para iniciar</p>
          </div>
  
          <div role="menuitem" class="model-option hover:bg-gray-50 dark:hover:bg-gray-700 p-2 cursor-pointer transition-colors duration-200">
            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center">
                <i class="fas fa-brain text-blue-600 dark:text-blue-400"></i>
              </div>
              <div>
                <p class="text-xs font-medium text-gray-700 dark:text-gray-300">LLaMA 3</p>
                <p id="current-model" class="text-xs text-gray-500 dark:text-gray-400">Modelo funcional con WebLLM<br>Ideal para la mayoría de las tareas</p>
              </div>
            </div>
          </div>
  
          <div role="menuitem" class="model-option hover:bg-gray-50 dark:hover:bg-gray-700 p-2 cursor-pointer transition-colors duration-200">
            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center">
                <i class="fas fa-bolt text-green-600 dark:text-green-400"></i>
              </div>
              <div>
                <p class="text-xs font-medium text-gray-700 dark:text-gray-300">ChatGPT-3.5-turbo</p>
                <p id="current-model" class="text-xs text-gray-500 dark:text-gray-400">Modelo funcional con API<br>Más rápido para las tareas cotidianas</p>
              </div>
            </div>
          </div>
  
          <div class="mx-4 my-1 h-px bg-gray-300 dark:bg-gray-600"></div>
  
          <div id="retry-button" role="menuitem" class="hover:bg-gray-50 dark:hover:bg-gray-700 p-3 cursor-pointer transition-colors duration-200">
            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center">
                <svg class="text-gray-400 dark:text-gray-500" width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M3.06957 10.8763C3.62331 6.43564 7.40967 3 12 3C14.2824 3 16.4028 3.85067 18.0118 5.25439V4C18.0118 3.44772 18.4595 3 19.0118 3C19.5641 3 20.0118 3.44772 20.0118 4V8C20.0118 8.55228 19.5641 9 19.0118 9H15C14.4477 9 14 8.55228 14 8C14 7.44772 14.4477 7 15 7H16.9571C15.6757 5.76379 13.9101 5 12 5C8.43108 5 5.48466 7.67174 5.0542 11.1237C4.98586 11.6718 4.48619 12.0607 3.93815 11.9923C3.39011 11.924 3.00123 11.4243 3.06957 10.8763ZM20.0618 12.0077C20.6099 12.076 20.9988 12.5757 20.9304 13.1237C20.3767 17.5644 16.5903 21 12 21C9.72322 21 7.60762 20.1535 5.99999 18.7559V20C5.99999 20.5523 5.55228 21 4.99999 21C4.44771 21 3.99999 20.5523 3.99999 20V16C3.99999 15.4477 4.44771 15 4.99999 15H8.99999C9.55228 15 9.99999 15.4477 9.99999 16C9.99999 16.5523 9.55228 17 8.99999 17H7.04285C8.32433 18.2362 10.0899 19 12 19C15.5689 19 18.5153 16.3283 18.9458 12.8763C19.0141 12.3282 19.5138 11.9393 20.0618 12.0077Z" fill="currentColor"></path>
                </svg>
              </div>
              <div>
                <p class="text-xs font-medium text-gray-700 dark:text-gray-300">Volver a intentar</p>
                <p id="current-model" class="text-xs text-gray-500 dark:text-gray-400">LLaMA 3</p>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="relative">
        <button id="scroll-button" class="absolute left-1/2 -translate-x-1/2 -top-3 z-50 w-7 h-7 bg-white dark:bg-gray-700 rounded-full shadow-md flex items-center justify-center transform transition-all duration-300 border border-gray-200 dark:border-gray-600 hover:shadow-lg hover:scale-105">
          <i id="scroll-icon" class="fas fa-chevron-up text-gray-500 dark:text-gray-400 text-sm transition-transform duration-300"></i>
        </button>
      </div>
  
      <div class="bg-white dark:bg-gray-800 p-2 border-t border-gray-200 dark:border-gray-700">
        <div class="flex items-center space-x-3">
          <div class="flex-1 relative">
            <input id="chat-input" type="text" class="w-full px-5 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent transition-all duration-300 placeholder-gray-400 dark:placeholder-gray-500 text-xs" placeholder="Escribe tu mensaje..." disabled>
            <div class="absolute right-3 top-1/2 -translate-y-1/2 flex items-center space-x-2">
              <button id="emoji-button" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none">
                <i class="far fa-smile text-lg"></i>
              </button>
              <button id="voice-input" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none">
                <i class="fas fa-microphone"></i>
              </button>
              <div id="recording-indicator" class="hidden absolute right-12 top-1/2 -translate-y-1/2">
                <div class="animate-pulse flex items-center">
                  <div class="w-2 h-2 bg-red-500 rounded-full mr-2"></div>
                  <span class="text-xs text-red-500">Grabando...</span>
                </div>
              </div>
            </div>
          </div>
          <button id="send-message" class="flex-shrink-0 bg-gradient-to-r from-blue-600 to-blue-800 p-2 rounded-xl text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100" disabled>
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
  
        <div id="emoji-picker" class="hidden absolute bottom-20 left-0 bg-white dark:bg-gray-700 rounded-xl shadow-xl border border-gray-200 dark:border-gray-600 p-3 transition-all duration-300">
          <div class="flex items-center justify-between mb-3">
            <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300">Emojis</h4>
            <button id="close-emoji" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="grid grid-cols-8 gap-2 max-h-40 overflow-y-auto">
            <div class="col-span-8 flex space-x-2 mb-2 pb-2 border-b border-gray-200 dark:border-gray-600">
              <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">
                <i class="far fa-smile text-yellow-500"></i>
              </button>
              <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">
                <i class="far fa-heart text-red-500"></i>
              </button>
              <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">
                <i class="far fa-hand-peace text-blue-500"></i>
              </button>
              <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">
                <i class="far fa-flag text-green-500"></i>
              </button>
            </div>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">😀</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">😂</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">🥰</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">😎</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">🤔</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">😊</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">👍</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">❤️</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">✨</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">🎉</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">🌟</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">💪</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">🙌</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">👏</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">🤝</button>
            <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors">👋</button>
          </div>
        </div>
      </div>
  
      <div class="bg-gray-50 dark:bg-gray-800 px-4 py-2 border-t border-gray-200 dark:border-gray-700">
        <div class="flex flex-col items-center space-y-2">
          <div class="flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400">
            <i class="fas fa-shield-alt"></i>
            <p class="text-xs text-gray-500 dark:text-gray-400">Las respuestas del ChatBot son confiables</p>
          </div>
          <span id="init-progress-text" class="text-xs text-gray-400 dark:text-gray-500"></span>
        </div>
      </div>
    </div>
  </div>
  {% endif %}


  

  {% block scripts %}
  {% include 'scripts.html' %}
  {% include 'scripts_chatbot.html' %}
  {% endblock scripts %}
  {% include 'particles.html' %}

  {% block extra_js %}{% endblock %}
</body>

</html>